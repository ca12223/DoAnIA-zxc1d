# certs/openssl.cnf
[ req ]
prompt = no
distinguished_name = dn
default_md = sha256

[ dn ]
C  = VN
ST = HCM
L  = Ho Chi Minh City
O  = IoT Security Testing
OU = Development
CN = IoT-CA

# --- Extensions for a CA certificate ---
[ v3_ca ]
basicConstraints = critical, CA:TRUE
keyUsage = critical, keyCertSign, cRLSign
subjectKeyIdentifier = hash
authorityKeyIdentifier = keyid:always,issuer

# --- Extensions for a server certificate ---
[ v3_server ]
basicConstraints = critical, CA:FALSE
keyUsage = critical, digitalSignature, keyEncipherment
extendedKeyUsage = serverAuth
subjectAltName = @alt_names

[ alt_names ]
DNS.1 = emqx
DNS.2 = localhost
IP.1  = 127.0.0.1